<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ocean Cleanup Dashboard</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='dashboard.css') }}">

</head>

<body>
    <header>
        <h1>Recycle Wingman</h1>
        <nav>
            <button onclick="switchView('identify')">Identify Trash</button>
            <button onclick="switchView('dex')">Trash Dex</button>
            <button onclick="switchView('events')">Events</button>
            <button onclick="switchView('profile')">Profile</button>
            <a href="/logout"><button>Logout</button></a>
        </nav>
    </header>

    <main>
        <section id="identify" class="view">
            <h2>Upload Trash Image</h2>
            <form id="uploadForm">
                <input type="file" id="imageInput" accept="image/*" required />
                <button type="submit">Analyze</button>
            </form>
            <div id="preview"></div>
            <div id="result"></div>
        </section>
        <section id="dex" class="view" style="display:none">
            <h2>Trash Dex</h2>
            <div id="dexList" class="grid"></div>
        </section>
        <section id="events" class="view" style="display:none">
            <h2>Available Events</h2>
            <div id="eventList" class="grid"></div>
            <h2>My Joined Events</h2>
            <div id="joinedList" class="grid"></div>
        </section>

        <section id="profile" class="view" style="display:none">
            <div class="profile-card">
                <h2>{{ username }}</h2>
                <div class="profile-info">
                    <img src="/static/avatar.png" alt="Profile Picture"
                        style="width:100px; height:100px; object-fit:cover; border-radius:50%;">
                    <p><strong>Username:</strong> {{ username }}</p>
                    <p><strong>Unlocked Trash Types:</strong> <span id="unlockedCount">0</span></p>
                    <p><strong>Cleanup Tokens:</strong> <span id="tokenCount">0</span></p>
                </div>
            </div>
        </section>

    </main>
    <script>
        const USERNAME = "{{ username }}";
        document.addEventListener("DOMContentLoaded", () => {
            document.getElementById("username").textContent = USERNAME;
        });
        const DEX = {
            "001": { name: "PET Bottle", image: "/static/dex/001.png" },
            "002": { name: "Bottle Cap", image: "/static/dex/002.png" },
            "003": { name: "Aluminum Can", image: "/static/dex/003.png" },
            "004": { name: "Foil Container", image: "/static/dex/004.png" },
            "005": { name: "Paper", image: "/static/dex/005.png" },
            "006": { name: "Cardboard Box", image: "/static/dex/006.png" },
            "007": { name: "Paper Lunchbox", image: "/static/dex/007.png" },
            "008": { name: "Cigarette Box", image: "/static/dex/008.png" },
            "009": { name: "Plastic Spoon", image: "/static/dex/009.png" },
            "010": { name: "Plastic Fork", image: "/static/dex/010.png" },
            "011": { name: "Disposable Cup", image: "/static/dex/011.png" },
            "012": { name: "Plastic Drink Cup", image: "/static/dex/012.png" },
            "013": { name: "Foam Drink Cup", image: "/static/dex/013.png" },
            "014": { name: "Plastic Bag", image: "/static/dex/014.png" },
            "015": { name: "Plastic Straw", image: "/static/dex/015.png" },
            "016": { name: "Foam Piece", image: "/static/dex/016.png" },
            "017": { name: "Fishing Net", image: "/static/dex/017.png" },
            "018": { name: "Buoy", image: "/static/dex/018.png" },
            "019": { name: "Float Ball", image: "/static/dex/019.png" },
            "020": { name: "Lighter", image: "/static/dex/020.png" },
            "021": { name: "Cotton Swab", image: "/static/dex/021.png" },
            "022": { name: "Cigarette Butt", image: "/static/dex/022.png" },
            "023": { name: "Flip-flop", image: "/static/dex/023.png" },
            "024": { name: "Glass Bottle", image: "/static/dex/024.png" },
            "025": { name: "Glass Shard", image: "/static/dex/025.png" }
        };

    </script>
    <script src="{{ url_for('static', filename='dashboard.js') }}"></script>
</body>

</html>